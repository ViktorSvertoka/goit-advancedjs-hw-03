{"version":3,"file":"commonHelpers.js","sources":["../src/js/cat-api.js"],"sourcesContent":["import axios from 'axios';\n\naxios.defaults.headers.common['x-api-key'] =\n  'live_URYiUDVMJKnsTYSLnYWeR31PUeH8c5Yz2b0ev0a1MU6oS9U6mrAOkeE6lCc4s4wU';\n\nconst breedSelect = document.querySelector('.breed-select');\nconst catInfo = document.querySelector('.cat-info');\nconst loader = document.querySelector('.loader');\nconst error = document.querySelector('.error');\n\nfunction hideElement(element) {\n  element.style.display = 'none';\n}\n\nfunction showElement(element) {\n  element.style.display = 'block';\n}\n\nasync function fetchBreeds() {\n  showElement(loader);\n  hideElement(catInfo);\n  hideElement(error);\n\n  try {\n    const response = await axios.get('https://api.thecatapi.com/v1/breeds');\n    return response.data;\n  } catch (error) {\n    throw error;\n  } finally {\n    hideElement(loader);\n  }\n}\n\nasync function fetchCatByBreed(breedId) {\n  showElement(loader);\n  hideElement(catInfo);\n  hideElement(error);\n\n  try {\n    const response = await axios.get(\n      `https://api.thecatapi.com/v1/images/search?breed_ids=${breedId}`\n    );\n    return response.data;\n  } catch (error) {\n    throw error;\n  } finally {\n    hideElement(loader);\n  }\n}\n\nfunction displayCatInfo(catData) {\n  catInfo.innerHTML = `\n    <img src=\"${catData[0].url}\" alt=\"Cat Image\" style=\"width: 350px; height: 350px;\" />\n    <h2>${catData[0].breeds[0].name}</h2>\n    <p>Description: ${catData[0].breeds[0].description}</p>\n    <p>Temperament: ${catData[0].breeds[0].temperament}</p>\n  `;\n  showElement(catInfo);\n}\n\nasync function handleBreedSelection() {\n  const selectedBreedId = breedSelect.value;\n\n  try {\n    const catData = await fetchCatByBreed(selectedBreedId);\n    displayCatInfo(catData);\n  } catch (error) {\n    showElement(error);\n  }\n}\n\nexport async function initializeApp() {\n  try {\n    const breeds = await fetchBreeds();\n    breeds.forEach(breed => {\n      const option = document.createElement('option');\n      option.value = breed.id;\n      option.textContent = breed.name;\n      breedSelect.appendChild(option);\n    });\n  } catch (error) {\n    showElement(error);\n  }\n\n  breedSelect.addEventListener('change', handleBreedSelection);\n}\n\ninitializeApp();\n"],"names":["axios","breedSelect","catInfo","loader","error","hideElement","element","showElement","fetchBreeds","fetchCatByBreed","breedId","displayCatInfo","catData","handleBreedSelection","selectedBreedId","initializeApp","breed","option"],"mappings":"svBAEAA,EAAM,SAAS,QAAQ,OAAO,WAAW,EACvC,wEAEF,MAAMC,EAAc,SAAS,cAAc,eAAe,EACpDC,EAAU,SAAS,cAAc,WAAW,EAC5CC,EAAS,SAAS,cAAc,SAAS,EACzCC,EAAQ,SAAS,cAAc,QAAQ,EAE7C,SAASC,EAAYC,EAAS,CAC5BA,EAAQ,MAAM,QAAU,MAC1B,CAEA,SAASC,EAAYD,EAAS,CAC5BA,EAAQ,MAAM,QAAU,OAC1B,CAEA,eAAeE,GAAc,CAC3BD,EAAYJ,CAAM,EAClBE,EAAYH,CAAO,EACnBG,EAAYD,CAAK,EAEjB,GAAI,CAEF,OADiB,MAAMJ,EAAM,IAAI,qCAAqC,GACtD,IACjB,OAAQI,EAAO,CACd,MAAMA,CACV,QAAY,CACRC,EAAYF,CAAM,CACnB,CACH,CAEA,eAAeM,EAAgBC,EAAS,CACtCH,EAAYJ,CAAM,EAClBE,EAAYH,CAAO,EACnBG,EAAYD,CAAK,EAEjB,GAAI,CAIF,OAHiB,MAAMJ,EAAM,IAC3B,wDAAwDU,CAAO,EACrE,GACoB,IACjB,OAAQN,EAAO,CACd,MAAMA,CACV,QAAY,CACRC,EAAYF,CAAM,CACnB,CACH,CAEA,SAASQ,EAAeC,EAAS,CAC/BV,EAAQ,UAAY;AAAA,gBACNU,EAAQ,CAAC,EAAE,GAAG;AAAA,UACpBA,EAAQ,CAAC,EAAE,OAAO,CAAC,EAAE,IAAI;AAAA,sBACbA,EAAQ,CAAC,EAAE,OAAO,CAAC,EAAE,WAAW;AAAA,sBAChCA,EAAQ,CAAC,EAAE,OAAO,CAAC,EAAE,WAAW;AAAA,IAEpDL,EAAYL,CAAO,CACrB,CAEA,eAAeW,GAAuB,CACpC,MAAMC,EAAkBb,EAAY,MAEpC,GAAI,CACF,MAAMW,EAAU,MAAMH,EAAgBK,CAAe,EACrDH,EAAeC,CAAO,CACvB,OAAQR,EAAO,CACdG,EAAYH,CAAK,CAClB,CACH,CAEO,eAAeW,GAAgB,CACpC,GAAI,EACa,MAAMP,KACd,QAAQQ,GAAS,CACtB,MAAMC,EAAS,SAAS,cAAc,QAAQ,EAC9CA,EAAO,MAAQD,EAAM,GACrBC,EAAO,YAAcD,EAAM,KAC3Bf,EAAY,YAAYgB,CAAM,CACpC,CAAK,CACF,OAAQb,EAAO,CACdG,EAAYH,CAAK,CAClB,CAEDH,EAAY,iBAAiB,SAAUY,CAAoB,CAC7D,CAEAE,EAAe"}