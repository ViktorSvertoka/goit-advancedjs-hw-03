{"version":3,"file":"commonHelpers.js","sources":["../src/js/cat-api.js"],"sourcesContent":["import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nimport axios from 'axios';\n\naxios.defaults.headers.common['x-api-key'] =\n  'live_URYiUDVMJKnsTYSLnYWeR31PUeH8c5Yz2b0ev0a1MU6oS9U6mrAOkeE6lCc4s4wU';\n\nconst breedSelect = document.querySelector('.breed-select');\nconst catInfo = document.querySelector('.cat-info');\nconst loader = document.querySelector('.loader');\nconst errorInfo = document.querySelector('.error');\n\nerrorInfo.style.display = 'none';\n\nfunction hideElement(element) {\n  element.style.display = 'none';\n}\n\nfunction showElement(element) {\n  element.style.display = 'block';\n}\n\nasync function fetchBreeds() {\n  showElement(loader);\n  hideElement(breedSelect);\n\n  return await axios\n    .get('https://api.thecatapi.com/v1/breeds')\n    .then(response => {\n      showElement(breedSelect);\n      return response.data;\n    })\n    .catch(() => {\n      iziToast.show({\n        title: 'Error',\n        message: '❌ Oops! Something went wrong! Try reloading the page!',\n        position: 'topCenter',\n        color: 'red',\n      });\n    })\n    .finally(() => hideElement(loader));\n}\n\nasync function fetchCatByBreed(breedId) {\n  showElement(loader);\n\n  return await axios\n    .get(`https://api.thecatapi.com/v1/images/search?breed_ids=${breedId}`)\n    .then(response => response.data)\n    .catch(() => {\n      iziToast.show({\n        title: 'Error',\n        message: '❌ Oops! Something went wrong! Try reloading the page!',\n        position: 'topCenter',\n        color: 'red',\n      });\n    })\n    .finally(() => hideElement(loader));\n}\n\nfunction displayCatInfo(catData) {\n  catInfo.innerHTML = `\n    <div class=\"wrapper\">\n    <img class=\"cat-img\" src=\"${catData[0].url}\" alt=\"Cat Image\"/>\n    <div>\n    <h2>${catData[0].breeds[0].name}</h2>\n    <p><b>Description:</b> ${catData[0].breeds[0].description}</p>\n    <p><b>Temperament:</b> ${catData[0].breeds[0].temperament}</p>\n    </div>\n    </div>\n  `;\n  showElement(catInfo);\n}\n\nasync function handleBreedSelection() {\n  const selectedBreedId = breedSelect.value;\n  const catData = await fetchCatByBreed(selectedBreedId);\n\n  if (!catData) {\n    return;\n  } else if (catData.length === 0) {\n    iziToast.show({\n      title: 'Error',\n      message: '❌ Oops! Something went wrong! Try reloading the page!',\n      position: 'topCenter',\n      color: 'red',\n    });\n    return;\n  }\n\n  displayCatInfo(catData);\n}\n\nexport async function initializeApp() {\n  const breeds = await fetchBreeds();\n\n  if (!breeds) return;\n\n  const breedOptions = breeds.map(breed => {\n    const option = document.createElement('option');\n    option.value = breed.id;\n    option.textContent = breed.name;\n    return option;\n  });\n\n  breedSelect.append(...breedOptions);\n\n  breedSelect.addEventListener('change', handleBreedSelection);\n}\n\ninitializeApp();\n"],"names":["axios","breedSelect","catInfo","loader","errorInfo","hideElement","element","showElement","fetchBreeds","response","iziToast","fetchCatByBreed","breedId","displayCatInfo","catData","handleBreedSelection","selectedBreedId","initializeApp","breeds","breedOptions","breed","option"],"mappings":"6vBAKAA,EAAM,SAAS,QAAQ,OAAO,WAAW,EACvC,wEAEF,MAAMC,EAAc,SAAS,cAAc,eAAe,EACpDC,EAAU,SAAS,cAAc,WAAW,EAC5CC,EAAS,SAAS,cAAc,SAAS,EACzCC,EAAY,SAAS,cAAc,QAAQ,EAEjDA,EAAU,MAAM,QAAU,OAE1B,SAASC,EAAYC,EAAS,CAC5BA,EAAQ,MAAM,QAAU,MAC1B,CAEA,SAASC,EAAYD,EAAS,CAC5BA,EAAQ,MAAM,QAAU,OAC1B,CAEA,eAAeE,GAAc,CAC3B,OAAAD,EAAYJ,CAAM,EAClBE,EAAYJ,CAAW,EAEhB,MAAMD,EACV,IAAI,qCAAqC,EACzC,KAAKS,IACJF,EAAYN,CAAW,EAChBQ,EAAS,KACjB,EACA,MAAM,IAAM,CACXC,EAAS,KAAK,CACZ,MAAO,QACP,QAAS,wDACT,SAAU,YACV,MAAO,KACf,CAAO,CACP,CAAK,EACA,QAAQ,IAAML,EAAYF,CAAM,CAAC,CACtC,CAEA,eAAeQ,EAAgBC,EAAS,CACtC,OAAAL,EAAYJ,CAAM,EAEX,MAAMH,EACV,IAAI,wDAAwDY,CAAO,EAAE,EACrE,KAAKH,GAAYA,EAAS,IAAI,EAC9B,MAAM,IAAM,CACXC,EAAS,KAAK,CACZ,MAAO,QACP,QAAS,wDACT,SAAU,YACV,MAAO,KACf,CAAO,CACP,CAAK,EACA,QAAQ,IAAML,EAAYF,CAAM,CAAC,CACtC,CAEA,SAASU,EAAeC,EAAS,CAC/BZ,EAAQ,UAAY;AAAA;AAAA,gCAEUY,EAAQ,CAAC,EAAE,GAAG;AAAA;AAAA,UAEpCA,EAAQ,CAAC,EAAE,OAAO,CAAC,EAAE,IAAI;AAAA,6BACNA,EAAQ,CAAC,EAAE,OAAO,CAAC,EAAE,WAAW;AAAA,6BAChCA,EAAQ,CAAC,EAAE,OAAO,CAAC,EAAE,WAAW;AAAA;AAAA;AAAA,IAI3DP,EAAYL,CAAO,CACrB,CAEA,eAAea,GAAuB,CACpC,MAAMC,EAAkBf,EAAY,MAC9Ba,EAAU,MAAMH,EAAgBK,CAAe,EAErD,GAAKF,GAEE,GAAIA,EAAQ,SAAW,EAAG,CAC/BJ,EAAS,KAAK,CACZ,MAAO,QACP,QAAS,wDACT,SAAU,YACV,MAAO,KACb,CAAK,EACD,MACD,MATC,QAWFG,EAAeC,CAAO,CACxB,CAEO,eAAeG,GAAgB,CACpC,MAAMC,EAAS,MAAMV,IAErB,GAAI,CAACU,EAAQ,OAEb,MAAMC,EAAeD,EAAO,IAAIE,GAAS,CACvC,MAAMC,EAAS,SAAS,cAAc,QAAQ,EAC9C,OAAAA,EAAO,MAAQD,EAAM,GACrBC,EAAO,YAAcD,EAAM,KACpBC,CACX,CAAG,EAEDpB,EAAY,OAAO,GAAGkB,CAAY,EAElClB,EAAY,iBAAiB,SAAUc,CAAoB,CAC7D,CAEAE,EAAe"}