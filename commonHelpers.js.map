{"version":3,"file":"commonHelpers.js","sources":["../src/js/cat-api.js"],"sourcesContent":["import axios from 'axios';\n\naxios.defaults.headers.common['x-api-key'] =\n  'live_URYiUDVMJKnsTYSLnYWeR31PUeH8c5Yz2b0ev0a1MU6oS9U6mrAOkeE6lCc4s4wU';\n\nconst breedSelect = document.querySelector('.breed-select');\nconst catInfo = document.querySelector('.cat-info');\nconst loader = document.querySelector('.loader');\nconst errorInfo = document.querySelector('.error');\n\nerrorInfo.style.color = 'red';\n\nfunction hideElement(element) {\n  element.style.display = 'none';\n}\n\nfunction showElement(element) {\n  element.style.display = 'block';\n}\n\nfunction fetchBreeds() {\n  showElement(loader);\n  hideElement(breedSelect);\n  hideElement(errorInfo);\n\n  return axios\n    .get('https://api.thecatapi.com/v1/breeds')\n    .then(response => {\n      showElement(breedSelect);\n      return response.data;\n    })\n    .catch(error => {\n      showElement(errorInfo);\n      throw error;\n    })\n    .finally(() => hideElement(loader));\n}\n\nfunction fetchCatByBreed(breedId) {\n  showElement(loader);\n  hideElement(errorInfo);\n\n  return axios\n    .get(`https://api.thecatapi.com/v1/images/search?breed_ids=${breedId}`)\n    .then(response => response.data)\n    .catch(error => {\n      showElement(errorInfo);\n      throw error;\n    })\n    .finally(() => hideElement(loader));\n}\n\nfunction displayCatInfo(catData) {\n  catInfo.innerHTML = `\n    <div class=\"wrapper\">\n    <img class=\"cat-img\" src=\"${catData[0].url}\" alt=\"Cat Image\"/>\n    <div>\n    <h2>${catData[0].breeds[0].name}</h2>\n    <p><b>Description:</b> ${catData[0].breeds[0].description}</p>\n    <p><b>Temperament:</b> ${catData[0].breeds[0].temperament}</p>\n    </div>\n    </div>\n  `;\n  showElement(catInfo);\n}\n\nfunction handleBreedSelection() {\n  const selectedBreedId = breedSelect.value;\n\n  fetchCatByBreed(selectedBreedId)\n    .then(catData => displayCatInfo(catData))\n    .catch(error => {\n      showElement(errorInfo);\n      throw error;\n    });\n}\n\nexport function initializeApp() {\n  fetchBreeds()\n    .then(breeds => {\n      breeds.forEach(breed => {\n        const option = document.createElement('option');\n        option.value = breed.id;\n        option.textContent = breed.name;\n        breedSelect.appendChild(option);\n      });\n    })\n    .catch(error => {\n      showElement(errorInfo);\n      throw error;\n    });\n\n  breedSelect.addEventListener('change', handleBreedSelection);\n}\n\ninitializeApp();\n"],"names":["axios","breedSelect","catInfo","loader","errorInfo","hideElement","element","showElement","fetchBreeds","response","error","fetchCatByBreed","breedId","displayCatInfo","catData","handleBreedSelection","selectedBreedId","initializeApp","breeds","breed","option"],"mappings":"svBAEAA,EAAM,SAAS,QAAQ,OAAO,WAAW,EACvC,wEAEF,MAAMC,EAAc,SAAS,cAAc,eAAe,EACpDC,EAAU,SAAS,cAAc,WAAW,EAC5CC,EAAS,SAAS,cAAc,SAAS,EACzCC,EAAY,SAAS,cAAc,QAAQ,EAEjDA,EAAU,MAAM,MAAQ,MAExB,SAASC,EAAYC,EAAS,CAC5BA,EAAQ,MAAM,QAAU,MAC1B,CAEA,SAASC,EAAYD,EAAS,CAC5BA,EAAQ,MAAM,QAAU,OAC1B,CAEA,SAASE,GAAc,CACrB,OAAAD,EAAYJ,CAAM,EAClBE,EAAYJ,CAAW,EACvBI,EAAYD,CAAS,EAEdJ,EACJ,IAAI,qCAAqC,EACzC,KAAKS,IACJF,EAAYN,CAAW,EAChBQ,EAAS,KACjB,EACA,MAAMC,GAAS,CACd,MAAAH,EAAYH,CAAS,EACfM,CACZ,CAAK,EACA,QAAQ,IAAML,EAAYF,CAAM,CAAC,CACtC,CAEA,SAASQ,EAAgBC,EAAS,CAChC,OAAAL,EAAYJ,CAAM,EAClBE,EAAYD,CAAS,EAEdJ,EACJ,IAAI,wDAAwDY,CAAO,EAAE,EACrE,KAAKH,GAAYA,EAAS,IAAI,EAC9B,MAAMC,GAAS,CACd,MAAAH,EAAYH,CAAS,EACfM,CACZ,CAAK,EACA,QAAQ,IAAML,EAAYF,CAAM,CAAC,CACtC,CAEA,SAASU,EAAeC,EAAS,CAC/BZ,EAAQ,UAAY;AAAA;AAAA,gCAEUY,EAAQ,CAAC,EAAE,GAAG;AAAA;AAAA,UAEpCA,EAAQ,CAAC,EAAE,OAAO,CAAC,EAAE,IAAI;AAAA,6BACNA,EAAQ,CAAC,EAAE,OAAO,CAAC,EAAE,WAAW;AAAA,6BAChCA,EAAQ,CAAC,EAAE,OAAO,CAAC,EAAE,WAAW;AAAA;AAAA;AAAA,IAI3DP,EAAYL,CAAO,CACrB,CAEA,SAASa,GAAuB,CAC9B,MAAMC,EAAkBf,EAAY,MAEpCU,EAAgBK,CAAe,EAC5B,KAAKF,GAAWD,EAAeC,CAAO,CAAC,EACvC,MAAMJ,GAAS,CACd,MAAAH,EAAYH,CAAS,EACfM,CACZ,CAAK,CACL,CAEO,SAASO,GAAgB,CAC9BT,EAAa,EACV,KAAKU,GAAU,CACdA,EAAO,QAAQC,GAAS,CACtB,MAAMC,EAAS,SAAS,cAAc,QAAQ,EAC9CA,EAAO,MAAQD,EAAM,GACrBC,EAAO,YAAcD,EAAM,KAC3BlB,EAAY,YAAYmB,CAAM,CACtC,CAAO,CACP,CAAK,EACA,MAAMV,GAAS,CACd,MAAAH,EAAYH,CAAS,EACfM,CACZ,CAAK,EAEHT,EAAY,iBAAiB,SAAUc,CAAoB,CAC7D,CAEAE,EAAe"}