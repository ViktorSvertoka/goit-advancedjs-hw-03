{"version":3,"file":"commonHelpers.js","sources":["../src/js/cat-api.js","../src/image/no-image.png","../src/index.js"],"sourcesContent":["import axios from 'axios';\n\naxios.defaults.headers.common['x-api-key'] =\n  'live_URYiUDVMJKnsTYSLnYWeR31PUeH8c5Yz2b0ev0a1MU6oS9U6mrAOkeE6lCc4s4wU';\n\nexport async function fetchBreeds() {\n  return await axios\n    .get('https://api.thecatapi.com/v1/breeds')\n    .then(response => response.data);\n}\n\nexport async function fetchCatByBreed(breedId) {\n  return await axios\n    .get(`https://api.thecatapi.com/v1/images/search?breed_ids=${breedId}`)\n    .then(response => response.data);\n}\n","export default \"__VITE_ASSET__0553b654__\"","import SlimSelect from 'slim-select';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport { fetchBreeds, fetchCatByBreed } from './js/cat-api.js';\nimport noImage from './image/no-image.png';\n\nconst select = document.querySelector('.breed-select');\nconst catInfo = document.querySelector('.cat-info');\nconst spinner = document.querySelector('.spinner');\n\nconst slimSelect = new SlimSelect({\n  select: select,\n  settings: {\n    placeholderText: 'Search breeds',\n  },\n});\n\nconst errorMessage = {\n  title: 'Error',\n  message: '‚ùå Oops! Something went wrong! Try reloading the page!',\n  position: 'topCenter',\n  color: 'red',\n};\n\nfunction toggleClass(element, isVisible) {\n  element.classList.toggle('ss-hide', !isVisible);\n}\n\nasync function handleBreedSelection() {\n  try {\n    const selectedBreedId = select.value;\n    toggleClass(catInfo, false);\n    toggleClass(spinner, true);\n\n    const catData = await fetchCatByBreed(selectedBreedId);\n\n    displayCatInfo(catData);\n  } catch (error) {\n    iziToast.show(errorMessage);\n  }\n\n  toggleClass(spinner, false);\n}\n\nfunction displayCatInfo(catData) {\n  const { name, description, temperament, origin, country_code } =\n    catData[0].breeds[0];\n\n  const catImg = catData[0].url;\n\n  catInfo.innerHTML = `\n    <div class=\"wrapper\">\n      <img class=\"cat-img\" src=\"${catImg}\" alt=\"${name}\"/>\n      <div class=\"wrap\">\n        <h2 class=\"text\">${name}</h2>\n        <p><b class=\"primary\">Description:</b> ${description}</p>\n        <p><b class=\"primary\">Temperament:</b> ${temperament}</p>\n        <p><b class=\"primary\">Country:</b> ${origin}</p>\n        <img src=\"https://flagsapi.com/${country_code}/shiny/64.png\" alt=\"${origin}\" onerror=\"src='${noImage}'\" style=\"width: 64px;\">\n      </div>\n    </div>\n  `;\n\n  toggleClass(catInfo, true);\n}\n\nasync function initializeApp() {\n  try {\n    await fetchBreeds().then(breeds => {\n      const data = breeds.map(({ id, name }) => ({ text: name, value: id }));\n      slimSelect.setData([{ placeholder: true, text: '' }, ...data]);\n    });\n\n    toggleClass(select, true);\n    select.addEventListener('change', handleBreedSelection);\n  } catch (error) {\n    iziToast.show(errorMessage);\n    toggleClass(select, false);\n  }\n\n  toggleClass(spinner, false);\n}\n\ninitializeApp();\n"],"names":["axios","fetchBreeds","response","fetchCatByBreed","breedId","noImage","select","catInfo","spinner","slimSelect","SlimSelect","errorMessage","toggleClass","element","isVisible","handleBreedSelection","selectedBreedId","catData","displayCatInfo","iziToast","name","description","temperament","origin","country_code","catImg","initializeApp","breeds","data","id"],"mappings":"owBAEAA,EAAM,SAAS,QAAQ,OAAO,WAAW,EACvC,wEAEK,eAAeC,GAAc,CAClC,OAAO,MAAMD,EACV,IAAI,qCAAqC,EACzC,KAAKE,GAAYA,EAAS,IAAI,CACnC,CAEO,eAAeC,EAAgBC,EAAS,CAC7C,OAAO,MAAMJ,EACV,IAAI,wDAAwDI,CAAO,EAAE,EACrE,KAAKF,GAAYA,EAAS,IAAI,CACnC,CCfA,MAAeG,EAAA,sDCMTC,EAAS,SAAS,cAAc,eAAe,EAC/CC,EAAU,SAAS,cAAc,WAAW,EAC5CC,EAAU,SAAS,cAAc,UAAU,EAE3CC,EAAa,IAAIC,EAAW,CAChC,OAAQJ,EACR,SAAU,CACR,gBAAiB,eAClB,CACH,CAAC,EAEKK,EAAe,CACnB,MAAO,QACP,QAAS,wDACT,SAAU,YACV,MAAO,KACT,EAEA,SAASC,EAAYC,EAASC,EAAW,CACvCD,EAAQ,UAAU,OAAO,UAAW,CAACC,CAAS,CAChD,CAEA,eAAeC,GAAuB,CACpC,GAAI,CACF,MAAMC,EAAkBV,EAAO,MAC/BM,EAAYL,EAAS,EAAK,EAC1BK,EAAYJ,EAAS,EAAI,EAEzB,MAAMS,EAAU,MAAMd,EAAgBa,CAAe,EAErDE,EAAeD,CAAO,CACvB,MAAe,CACdE,EAAS,KAAKR,CAAY,CAC3B,CAEDC,EAAYJ,EAAS,EAAK,CAC5B,CAEA,SAASU,EAAeD,EAAS,CAC/B,KAAM,CAAE,KAAAG,EAAM,YAAAC,EAAa,YAAAC,EAAa,OAAAC,EAAQ,aAAAC,CAAc,EAC5DP,EAAQ,CAAC,EAAE,OAAO,CAAC,EAEfQ,EAASR,EAAQ,CAAC,EAAE,IAE1BV,EAAQ,UAAY;AAAA;AAAA,kCAEYkB,CAAM,UAAUL,CAAI;AAAA;AAAA,2BAE3BA,CAAI;AAAA,iDACkBC,CAAW;AAAA,iDACXC,CAAW;AAAA,6CACfC,CAAM;AAAA,yCACVC,CAAY,uBAAuBD,CAAM,mBAAmBlB,CAAO;AAAA;AAAA;AAAA,IAK1GO,EAAYL,EAAS,EAAI,CAC3B,CAEA,eAAemB,GAAgB,CAC7B,GAAI,CACF,MAAMzB,EAAW,EAAG,KAAK0B,GAAU,CACjC,MAAMC,EAAOD,EAAO,IAAI,CAAC,CAAE,GAAAE,EAAI,KAAAT,MAAY,CAAE,KAAMA,EAAM,MAAOS,CAAE,EAAG,EACrEpB,EAAW,QAAQ,CAAC,CAAE,YAAa,GAAM,KAAM,EAAI,EAAE,GAAGmB,CAAI,CAAC,CACnE,CAAK,EAEDhB,EAAYN,EAAQ,EAAI,EACxBA,EAAO,iBAAiB,SAAUS,CAAoB,CACvD,MAAe,CACdI,EAAS,KAAKR,CAAY,EAC1BC,EAAYN,EAAQ,EAAK,CAC1B,CAEDM,EAAYJ,EAAS,EAAK,CAC5B,CAEAkB,EAAe"}